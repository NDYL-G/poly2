const list=document.getElementById('tides');const station=document.getElementById('station');(async()=>{try{const d=await (await fetch('../data/tides.json',{cache:'no-store'})).json();if(d.station)station.textContent=d.station;const items=d.tides||d.items||[];list.innerHTML=items.slice(0,8).map(it=>`<li>${it.time} — <strong>${it.type}</strong> ${it.height!=null?('· '+it.height+' m'):''}</li>`).join('');const now=new Date();document.getElementById('updated').textContent='Updated: '+now.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'})}catch{document.getElementById('updated').textContent='Updated: error'}})();